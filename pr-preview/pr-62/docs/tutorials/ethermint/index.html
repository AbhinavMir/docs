<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/ethermint">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Ethermint | Rollkit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rollkit.dev/pr-preview/pr-62/img/RollKit.png"><meta data-rh="true" name="twitter:image" content="https://rollkit.dev/pr-preview/pr-62/img/RollKit.png"><meta data-rh="true" property="og:url" content="https://rollkit.dev/pr-preview/pr-62/docs/tutorials/ethermint/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ethermint | Rollkit"><meta data-rh="true" name="description" content="Build a sovereign rollup with Ethermint, Celestia and Rollkit"><meta data-rh="true" property="og:description" content="Build a sovereign rollup with Ethermint, Celestia and Rollkit"><link data-rh="true" rel="icon" href="/pr-preview/pr-62/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rollkit.dev/pr-preview/pr-62/docs/tutorials/ethermint/"><link data-rh="true" rel="alternate" href="https://rollkit.dev/pr-preview/pr-62/docs/tutorials/ethermint/" hreflang="en"><link data-rh="true" rel="alternate" href="https://rollkit.dev/pr-preview/pr-62/docs/tutorials/ethermint/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/pr-preview/pr-62/blog/rss.xml" title="Rollkit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pr-preview/pr-62/blog/atom.xml" title="Rollkit Atom Feed">



<script src="https://plausible.celestia.org/js/plausible.js" defer="defer" data-domain="rollkit.dev"></script><link rel="stylesheet" href="/pr-preview/pr-62/assets/css/styles.1c84649c.css">
<link rel="preload" href="/pr-preview/pr-62/assets/js/runtime~main.1186431f.js" as="script">
<link rel="preload" href="/pr-preview/pr-62/assets/js/main.bd938d9f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-62/"><div class="navbar__logo"><img src="/pr-preview/pr-62/img/toolbox.svg" alt="Rollkit logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/pr-preview/pr-62/img/toolbox.svg" alt="Rollkit logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Rollkit v0</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-62/docs/intro/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://t.me/rollkit" target="_blank" rel="noopener noreferrer" class="dropdown__link">Telegram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/rollkit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-62/docs/intro/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-62/docs/rollkit-stack/">Rollkit Stack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/pr-preview/pr-62/docs/category/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/building-and-deploying-a-rollup/">Building &amp; Deploying a Rollup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/gm-world/">GM World Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/recipe-book/">Recipe Book Rollup Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/wordle/">Wordle Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/cosmwasm/">CosmWasm Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/ethermint/">Ethermint Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-62/docs/tutorials/restart-rollkit-rollup/">How to restart your rollup</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-62/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-62/docs/category/tutorials/"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ethermint Tutorial</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Ethermint</h1><p>Ethermint is a Comsos-SDK library that integrates an EVM compiler
from Geth.</p><p>This would allow you to deploy Solidity or Vyper Ethereum smart contracts
in order to build Ethereum-based applications.</p><p>In this tutorial, we will be going over how to use Rollkit to deploy
an Ethereum-based sovereign rollup that uses Cosmos-SDK and Ethermint.</p><p>You can learn more about Ethermint <a href="https://docs.ethermint.zone" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This tutorial will explore developing with Rollkit,
which is still in Alpha stage. If you run into bugs, please write a Github
<a href="https://github.com/rollkit/docs/issues/new" target="_blank" rel="noopener noreferrer">Issue ticket</a>
or let us know in our <a href="https://t.me/rollkit" target="_blank" rel="noopener noreferrer">Telegram</a>.
Furthermore, while Rollkit allows you to build sovereign rollups
on Celestia, it currently does not support fraud proofs yet and is
therefore running in &quot;pessimistic&quot; mode, where nodes would need to
re-execute the transactions to check the validity of the chain
(i.e. a full node). Furthermore, Rollkit currently only supports
a single sequencer.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The script for this tutorial is built for Mocha Testnet.
If you choose to use Arabica Devnet,
you will need to modify the script manually.</p></div></div><p>In this tutorial, we will go over the following:</p><ul><li><a href="#ethermint-dependencies">Setting Up Your Ethermint Dependencies</a></li><li><a href="#rollkit-installation">Setting Up Rollkit on Ethermint</a></li><li><a href="#setting-up-your-environment-for-ethermint-on-celestia">Instantiate a local network for your Ethermint chain connected to Celestia</a></li><li><a href="#deploy-a-solidity-smart-contract-on-ethermint-sovereign-rollup-with-foundry">Deploying an Ethereum smart contract on your Ethermint Rollup with Foundry</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ethermint-dependencies">Ethermint Dependencies<a class="hash-link" href="#ethermint-dependencies" title="Direct link to heading">​</a></h2><p>This section will guide you through installing the dependencies
you need for the deployment process of an Ethermint Sovereign Rollup
on Celestia.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-requirements">Hardware Requirements<a class="hash-link" href="#hardware-requirements" title="Direct link to heading">​</a></h3><p>The following hardware minimum requirements are recommended for running
the full storage node:</p><ul><li>Memory: 8 GB RAM</li><li>CPU: Quad-Core</li><li>Disk: 250 GB SSD Storage</li><li>Bandwidth: 1 Gbps for Download/100 Mbps for Upload</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-your-ethermint-node">Setting Up Your Ethermint Node<a class="hash-link" href="#setting-up-your-ethermint-node" title="Direct link to heading">​</a></h3><p>The following tutorial is done on an Ubuntu Linux 20.04 (LTS) x64 instance machine.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="golang-dependency">Golang Dependency<a class="hash-link" href="#golang-dependency" title="Direct link to heading">​</a></h3><p>The Golang version used for this tutorial is v1.18+</p><p>If you are using a Linux distribution, you can install Golang
by following our tutorial <a href="https://docs.celestia.org/nodes/environment#install-golang" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rollkit-installation">Rollkit installation<a class="hash-link" href="#rollkit-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ethermintd-installation">ethermintd Installation<a class="hash-link" href="#ethermintd-installation" title="Direct link to heading">​</a></h3><p>Here, we are going to pull down the <code>ethermint</code> from the
<a href="https://github.com/celestiaorg/ethermint" target="_blank" rel="noopener noreferrer">Celestia repository</a>.
We will install Rollkit to this version of Ethermint.
Rollkit is a drop-in replacement for Tendermint that allows
Cosmos-SDK applications to connect to Celestia&#x27;s Data Availability network.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/celestiaorg/ethermint.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> ethermint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go mod edit -replace github.com/cosmos/cosmos-sdk</span><span class="token operator">=</span><span class="token plain">github.com/celestiaorg/cosmos-sdk-rollmint@v0.46.7-rollmint-v0.5.0-no-fraud-proofs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go mod edit -replace github.com/tendermint/tendermint</span><span class="token operator">=</span><span class="token plain">github.com/celestiaorg/tendermint@v0.34.22-0.20221013213714-8be9b54c8c21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go mod tidy </span><span class="token operator">&amp;&amp;</span><span class="token plain"> go build ./</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">make</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can check if <code>ethermintd</code> is installed by running the following
command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ethermintd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-your-environment-for-ethermint-on-celestia">Setting Up Your Environment for Ethermint on Celestia<a class="hash-link" href="#setting-up-your-environment-for-ethermint-on-celestia" title="Direct link to heading">​</a></h2><p>Now the <code>ethermintd</code> binary is built, we need to setup a local network
that communicates between <code>ethermintd</code> and Rollkit.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-a-celestia-light-node">Run A Celestia Light Node<a class="hash-link" href="#run-a-celestia-light-node" title="Direct link to heading">​</a></h3><p>All sovereign rollups need to submit their transaction data to
Celestia.</p><p>Here, we must first setup a Celestia Light Node with testnet tokens.</p><p>You can do this by following this tutorial <a href="https://docs.celestia.org/developers/node-tutorial" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instantiating-the-ethermint-rollup">Instantiating the Ethermint Rollup<a class="hash-link" href="#instantiating-the-ethermint-rollup" title="Direct link to heading">​</a></h3><p>With a Celestia Light Node running in one terminal session,
we can proceed to generate the Ethermint rollup.</p><p>In the <code>ethermint</code> directory, we have a helpful bash script that
allows you to instantiate a local Ethermint sovereign rollup on Celestia.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If you are on macOS, you will need to install md5sha1sum before starting your
rollup:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">brew </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> md5sha1sum</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Run the following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> ethermint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">bash</span><span class="token plain"> init.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This bash script does everything needed to initialize your Ethermint
rollup.</p><p>First, we need to setup some environment variables.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Networks</div><div class="admonitionContent_S0QG"><p>The commands below are for Mocha. If you&#x27;re using Arabica, you&#x27;ll need to
replace the RPC endpoint with <a href="https://docs.celestia.org/nodes/arabica-devnet#rpc-endpoints" target="_blank" rel="noopener noreferrer">one for Arabica</a>.</p></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">NAMESPACE_ID</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">echo</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable environment constant" style="color:rgb(189, 147, 249);font-style:italic">$RANDOM</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> md5sum </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">head</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> -c </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">16</span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">echo</span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DA_BLOCK_HEIGHT</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">curl</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> https://rpc-mocha.pops.one/block </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> jq -r </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27;.result.block.header.height&#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are running this on Mocha Testnet or Arabica Devnet, you need to run your
light node with an account that has Mocha or Arabica tokens. Visit the faucet
<a href="https://docs.celestia.org/nodes/arabica-devnet#arabica-devnet-faucet" target="_blank" rel="noopener noreferrer">here</a>.</p><p>With this setup complete, we can now start our Ethermint Rollup:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ethermintd start --rollmint.aggregator </span><span class="token boolean">true</span><span class="token plain"> --rollmint.da_layer celestia --rollmint.da_config</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;base_url&quot;:&quot;http://localhost:26659&quot;,&quot;timeout&quot;:60000000000,&quot;gas_limit&quot;:6000000,&quot;fee&quot;:6000}&#x27;</span><span class="token plain"> --rollmint.namespace_id </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$NAMESPACE_ID</span><span class="token plain"> --rollmint.da_start_height </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$DA_BLOCK_HEIGHT</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should start seeing logs about the chain starting.
They will look similar to below:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">1</span><span class="token plain">:27AM INF Unlocking keyring</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF starting ABCI with Tendermint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> start </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">impl</span><span class="token operator">=</span><span class="token plain">EventBus </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">events </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">msg</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> start </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">impl</span><span class="token operator">=</span><span class="token plain">PubSub </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">pubsub </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">msg</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">badger </span><span class="token number">2022</span><span class="token plain">/11/23 01:27:54 INFO: All </span><span class="token number">0</span><span class="token plain"> tables opened </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">badger </span><span class="token number">2022</span><span class="token plain">/11/23 01:27:54 INFO: Discard stats nextEmptySlot: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">badger </span><span class="token number">2022</span><span class="token plain">/11/23 01:27:54 INFO: Set nextTxnTs to </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> start </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">impl</span><span class="token operator">=</span><span class="token plain">IndexerService </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">txindex </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">msg</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF WARNING: using default DA block </span><span class="token function" style="color:rgb(80, 250, 123)">time</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DABlockTime</span><span class="token operator">=</span><span class="token number">30000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF initializing blockchain state from genesis.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF created new capability </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">ibc </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">ports/transfer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF port binded </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/ibc/port </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">port</span><span class="token operator">=</span><span class="token plain">transfer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF claimed capability </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">capability</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">transfer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">ports/transfer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">gov/module-account</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">staking/module-accounts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">3</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">staking/nonnegative-power</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">staking/positive-delegation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">5</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">staking/delegator-shares</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">6</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">bank/nonnegative-outstanding</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">7</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">bank/total-supply</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">8</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">distribution/nonnegative-outstanding</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">9</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">distribution/can-withdraw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">10</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">distribution/reference-count</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserting crisis invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">inv</span><span class="token operator">=</span><span class="token number">11</span><span class="token plain">/11 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">name</span><span class="token operator">=</span><span class="token plain">distribution/module-account</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF asserted all invariants </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">duration</span><span class="token operator">=</span><span class="token number">3.783918</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/crisis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> start </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">impl</span><span class="token operator">=</span><span class="token plain">RPC </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">msg</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> start </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">impl</span><span class="token operator">=</span><span class="token plain">Node </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">msg</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF serving HTTP listen </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">address</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;IP&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;127.0.0.1&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Port&quot;</span><span class="token plain">:26657,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Zone&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF starting P2P client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF listening on </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">address</span><span class="token operator">=</span><span class="token plain">/ip4/143.244.145.92/tcp/26656/p2p/12D3KooWCrCqYheUBURCzzUqgxWFVFvFYPJ6nonTPN9uVQ4cXK5H </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">p2p</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF listening on </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">address</span><span class="token operator">=</span><span class="token plain">/ip4/127.0.0.1/tcp/26656/p2p/12D3KooWCrCqYheUBURCzzUqgxWFVFvFYPJ6nonTPN9uVQ4cXK5H </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">p2p</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF no seed nodes - only listening </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> connections </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">p2p</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF starting Celestia Data Availability Layer Client </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">baseURL</span><span class="token operator">=</span><span class="token plain">http://localhost:26659 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">da_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF working </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> aggregator mode block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">time</span><span class="token operator">=</span><span class="token number">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF Creating and publishing block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF minted coins from module account </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">amount</span><span class="token operator">=</span><span class="token plain">2059726034250856481aphoton </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token operator">=</span><span class="token plain">mint </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/bank</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:27AM INF submitting block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF Starting JSON-RPC server </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">address</span><span class="token operator">=</span><span class="token number">0.0</span><span class="token plain">.0.0:8545</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF Starting JSON WebSocket server </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">address</span><span class="token operator">=</span><span class="token number">0.0</span><span class="token plain">.0.0:8546</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF successfully submitted rollmint block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">daHeight</span><span class="token operator">=</span><span class="token number">25422</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">rollmintHeight</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF commit synced </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token operator">=</span><span class="token plain">436F6D6D697449447B5B323130203138352031373920362035322031333820373020313032203135322038302032323920313232203132342036332031382032313920313039203337203832203631203334203139302031323520393020323133203835203232382032323420323232203134203739203131305D3A317D</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF indexed block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">txindex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF Creating and publishing block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF minted coins from module account </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">amount</span><span class="token operator">=</span><span class="token plain">2059726403014551280aphoton </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token operator">=</span><span class="token plain">mint </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/bank</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF submitting block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF successfully submitted rollmint block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">daHeight</span><span class="token operator">=</span><span class="token number">25423</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">rollmintHeight</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF commit synced </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token operator">=</span><span class="token plain">436F6D6D697449447B5B3630203231332038372032313820383920313920323034203230322031363320383120323235203235352036352032323820313530203232392032333320323139203233322032343420313334203337203134342031303320313634203138382031393720323339203230342032303120323138203130325D3A327D</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF indexed block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">txindex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF Creating and publishing block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF minted coins from module account </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">amount</span><span class="token operator">=</span><span class="token plain">2059726771778267119aphoton </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token operator">=</span><span class="token plain">mint </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/bank</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:28AM INF submitting block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF successfully submitted rollmint block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">daHeight</span><span class="token operator">=</span><span class="token number">25424</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">rollmintHeight</span><span class="token operator">=</span><span class="token number">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF commit synced </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token operator">=</span><span class="token plain">436F6D6D697449447B5B313520323038203831203131203235332032322037322031393020333220323130203634203235332032303920313839203934203137203431203135203230302039362031383920323820313736203132332037352032392031393320313831203134312032303520323231203232325D3A337D</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF indexed block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">txindex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF Creating and publishing block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF minted coins from module account </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">amount</span><span class="token operator">=</span><span class="token plain">2059727140542003996aphoton </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token operator">=</span><span class="token plain">mint </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">x/bank</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF submitting block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF successfully submitted rollmint block to DA layer </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">daHeight</span><span class="token operator">=</span><span class="token number">25425</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">rollmintHeight</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF commit synced </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token operator">=</span><span class="token plain">436F6D6D697449447B5B313433203332203639203732203134342034352037302034302032392032303120393720313137203235312031393320313738203137362031353920323038203231372036312032362031353720353320393820323234203230352031373020313920313034203138372031323220385D3A347D</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF indexed block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">txindex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain">:29AM INF Creating and publishing block </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">height</span><span class="token operator">=</span><span class="token number">5</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token operator">=</span><span class="token plain">BlockManager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With that, we have kickstarted our <code>ethermintd</code> network!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-a-solidity-smart-contract-on-ethermint-sovereign-rollup-with-foundry">Deploy A Solidity Smart Contract on Ethermint Sovereign Rollup with Foundry<a class="hash-link" href="#deploy-a-solidity-smart-contract-on-ethermint-sovereign-rollup-with-foundry" title="Direct link to heading">​</a></h2><p>In this guide you&#x27;ll learn how to deploy a Solidity smart contract to
the Ethermint chain you just instantiated on Celestia with
<a href="https://github.com/foundry-rs/foundry" target="_blank" rel="noopener noreferrer">Foundry</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-foundry">About Foundry<a class="hash-link" href="#about-foundry" title="Direct link to heading">​</a></h3><p>Foundry is a portable, fast and modular toolkit for Ethereum application development.</p><p>Foundry is made up of three components:</p><ul><li><a href="https://github.com/foundry-rs/foundry/tree/master/forge" target="_blank" rel="noopener noreferrer"><strong>Forge</strong></a> - Ethereum
testing framework (like Truffle, Hardhat and DappTools).</li><li><a href="https://github.com/foundry-rs/foundry/tree/master/cast" target="_blank" rel="noopener noreferrer"><strong>Cast</strong></a> - CLI for
interacting with EVM smart contracts, sending transactions, and getting chain data.</li><li><a href="https://github.com/foundry-rs/foundry/tree/master/anvil" target="_blank" rel="noopener noreferrer"><strong>Anvil</strong></a> - Local
Ethereum node, similar to Ganache or Hardhat Network.</li></ul><p>We&#x27;ll use all three to create, test, and deploy our Solidity project.</p><blockquote><p>To learn more about Foundry, check out the <a href="https://book.getfoundry.sh" target="_blank" rel="noopener noreferrer">Foundry Book</a>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting started<a class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="initialize-development-environment">Initialize development environment<a class="hash-link" href="#initialize-development-environment" title="Direct link to heading">​</a></h4><p>First, be sure to
<a href="https://book.getfoundry.sh/getting-started/installation.html" target="_blank" rel="noopener noreferrer">install Foundry</a>
on your local development environment.</p><p>Next, create a new project and change into the directory:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">forge init celestia-ethermint-app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> celestia-ethermint-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Foundry has created an example smart contract located at <code>src/Counter.sol</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-contract-and-tests">Updating the contract and tests<a class="hash-link" href="#updating-the-contract-and-tests" title="Direct link to heading">​</a></h4><p>Let&#x27;s update the contracts to include a basic counter example. Open the
<code>Counter.sol</code> file in the <code>src</code> directory and add the following code:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pragma solidity ^0.8.13;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">contract Counter {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    int private count;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    constructor(int _count) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        count = _count;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function incrementCounter() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        count += 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function decrementCounter() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        count -= 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function getCount() public view returns (int) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return count;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, let&#x27;s create a test for this contract.</p><p>Open <code>test/Counter.T.Sol</code> and update the code with the following:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pragma solidity ^0.8.13;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import &quot;forge-std/Test.sol&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;src/Counter.sol&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">contract CounterTest is Test {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Counter counter;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function setUp() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        counter = new Counter(10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function testGetCount() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        int value = counter.getCount();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEq(value, 10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        emit log_int(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function testIncrement() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        counter.incrementCounter();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        counter.incrementCounter();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        int value = counter.getCount();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEq(value, 12);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        emit log_int(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function testDecrement() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        counter.decrementCounter();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        int value = counter.getCount();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEq(value, 9);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        emit log_int(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Foundry uses <a href="https://book.getfoundry.sh/reference/ds-test.html" target="_blank" rel="noopener noreferrer">Dappsys Test</a> to
provide basic logging and assertion functionality. It&#x27;s included in the Forge
Standard Library.</p><p>Here, we are using <code>assertEq</code> to assert equality. You can view all of the assertion
functions available
<a href="https://book.getfoundry.sh/reference/ds-test.html?highlight=log_int#asserting" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Next, we can test the contract using <strong>Forge</strong> with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">forge </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">test</span><span class="token plain"> -vv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A successful test will have output similar to the following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">⠊</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Compiling</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">⠰</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Installing solc version </span><span class="token number">0.8</span><span class="token plain">.17</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">⠒</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Successfully installed solc </span><span class="token number">0.8</span><span class="token plain">.17</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">⠆</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Compiling </span><span class="token number">18</span><span class="token plain"> files with </span><span class="token number">0.8</span><span class="token plain">.17</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">⠑</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Solc </span><span class="token number">0.8</span><span class="token plain">.17 finished </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain">.59s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Compiler run successful</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Running </span><span class="token number">3</span><span class="token plain"> tests </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> test/Counter.t.sol:ContractTest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">PASS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> testDecrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gas: </span><span class="token number">12350</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Logs:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token number">9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">PASS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> testGetCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gas: </span><span class="token number">8510</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Logs:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token number">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">PASS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> testIncrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gas: </span><span class="token number">13285</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Logs:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token number">12</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Test result: ok. </span><span class="token number">3</span><span class="token plain"> passed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> failed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> finished </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain">.24ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-deployment-script">Updating the deployment script<a class="hash-link" href="#updating-the-deployment-script" title="Direct link to heading">​</a></h4><p>Now that we&#x27;ve tested the contract, let&#x27;s try deploying it locally using
<a href="https://book.getfoundry.sh/tutorials/solidity-scripting.html" target="_blank" rel="noopener noreferrer">Solidity Scripting</a>.</p><p>To do so, update the deloyment script at <code>script/Counter.s.sol</code> with the
following code:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pragma solidity ^0.8.13;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import &quot;forge-std/Script.sol&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import {Counter} from &quot;src/Counter.sol&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">contract CounterScript is Script {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function setUp() public {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function run() public {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vm.startBroadcast();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new Counter(10);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vm.stopBroadcast();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we can use this script to deploy our smart contract to either a live or
test network.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-locally">Deploying locally<a class="hash-link" href="#deploying-locally" title="Direct link to heading">​</a></h4><p>Next start Anvil, the local testnet:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">anvil --port </span><span class="token number">9545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once started, Anvil will give you a local RPC endpoint as well as a handful
of Private Keys and Accounts that you can use.</p><p>Set <code>ANVIL_KEY</code> with one of the private keys generated by running:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ANVIL_KEY</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">anvil-private-key</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And set the RPC URL as an environment variable:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">RPC_URL</span><span class="token operator">=</span><span class="token plain">http://127.0.0.1:9545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can now use the local RPC along with one of the private keys to deploy locally:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">forge script script/Counter.s.sol:CounterScript --fork-url </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$RPC_URL</span><span class="token plain">  --private-key </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$ANVIL_KEY</span><span class="token plain"> --broadcast</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the contract has been deployed locally, Anvil will log out the contract address.</p><p>Next, set the contract address as an environment variable:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CONTRACT_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">contract-address</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can then test sending transactions to it with <code>cast send</code>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cast send </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONTRACT_ADDRESS</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;incrementCounter()&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--private-key </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$ANVIL_KEY</span><span class="token plain"> --rpc-url </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$RPC_URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can then perform read operations with <code>cast call</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cast call </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONTRACT_ADDRESS</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;getCount()(int)&quot;</span><span class="token plain"> --rpc-url </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$RPC_URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-to-the-ethermint-sovereign-rollup">Deploying to the Ethermint Sovereign Rollup<a class="hash-link" href="#deploying-to-the-ethermint-sovereign-rollup" title="Direct link to heading">​</a></h4><p>Now that we&#x27;ve deployed and tested locally, we can deploy to our
Ethermint chain.</p><p>First, we will need to export the private key generated by
the ethermint <code>init.sh</code> script:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PRIVATE_KEY</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">ethermintd keys unsafe-export-eth-key mykey --keyring-backend </span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">test</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: Here, the key name from <code>init.sh</code> is <code>mykey</code> but you can modify
the <code>init.sh</code> to change the name of your key.</p></blockquote><p>Now, we can start deploying the smart contract to our Ethermint chain.</p><p>To do so, run the following script:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">forge script script/Counter.s.sol:CounterScript </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--rpc-url http://localhost:8545 --private-key </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PRIVATE_KEY</span><span class="token plain"> --broadcast</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set the contract address in the output as the <code>CONTRACT_ADDRESS</code> variable:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CONTRACT_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">new-contract-address</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the contract has been deployed to the Ethermint rollup, we can
use <code>cast send</code> to test sending transactions to it:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cast send </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONTRACT_ADDRESS</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;incrementCounter()&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--rpc-url http://localhost:8545 --private-key </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PRIVATE_KEY</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can then perform read operations with <code>cast call</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cast call </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONTRACT_ADDRESS</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;getCount()(int)&quot;</span><span class="token plain"> --rpc-url http://localhost:8545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rollkit/docs/tree/main/docs/tutorials/ethermint.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-62/docs/tutorials/cosmwasm/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CosmWasm Tutorial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-62/docs/tutorials/restart-rollkit-rollup/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to restart your rollup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ethermint-dependencies" class="table-of-contents__link toc-highlight">Ethermint Dependencies</a><ul><li><a href="#hardware-requirements" class="table-of-contents__link toc-highlight">Hardware Requirements</a></li><li><a href="#setting-up-your-ethermint-node" class="table-of-contents__link toc-highlight">Setting Up Your Ethermint Node</a></li><li><a href="#golang-dependency" class="table-of-contents__link toc-highlight">Golang Dependency</a></li></ul></li><li><a href="#rollkit-installation" class="table-of-contents__link toc-highlight">Rollkit installation</a><ul><li><a href="#ethermintd-installation" class="table-of-contents__link toc-highlight">ethermintd Installation</a></li></ul></li><li><a href="#setting-up-your-environment-for-ethermint-on-celestia" class="table-of-contents__link toc-highlight">Setting Up Your Environment for Ethermint on Celestia</a><ul><li><a href="#run-a-celestia-light-node" class="table-of-contents__link toc-highlight">Run A Celestia Light Node</a></li><li><a href="#instantiating-the-ethermint-rollup" class="table-of-contents__link toc-highlight">Instantiating the Ethermint Rollup</a></li></ul></li><li><a href="#deploy-a-solidity-smart-contract-on-ethermint-sovereign-rollup-with-foundry" class="table-of-contents__link toc-highlight">Deploy A Solidity Smart Contract on Ethermint Sovereign Rollup with Foundry</a><ul><li><a href="#about-foundry" class="table-of-contents__link toc-highlight">About Foundry</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting started</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Rollkit</div></div></div></footer></div>
<script src="/pr-preview/pr-62/assets/js/runtime~main.1186431f.js"></script>
<script src="/pr-preview/pr-62/assets/js/main.bd938d9f.js"></script>
</body>
</html>